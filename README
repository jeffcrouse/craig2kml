craig2kml
By Jeff Crouse
jefftimesten at gmail dot com

This software is licensed under the GNU-GPL version 3 or later.

craig2kml is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either
version 3 of the License, or (at your option) any later version.

craig2kml is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.


INTRODUCTION
----------------
This project started as Earthify (http://www.earthify.org), which kept breaking.  I also heard recently that some websites that were scraping Craigslist were being blocked.  So I decided to take the idea and turn it into a simple c++ program that anyone could use on their own computer, or install on a server and make a Google Maps wrapper (which I plan to do at some point at earthify.org).


NOTES
-------------
- Each listing that is parsed makes a call to the Google Geocoder API.  According to the "Usage Limits" section of the documentation (http://code.google.com/apis/maps/documentation/geocoding/#Limits), you can only perform 2,500 queries per day.  Presumably this is based on IP address.

- I use premake to generate makefiles.  You can find more information about it here http://industriousone.com/premake  This is not a requirement for building, but if you are having trouble building, you might want to take a look at the premake documentation.


REQUIREMENTS
----------------
TidyLib		http://tidy.sourceforge.net/
libXML2		http://xmlsoft.org/
libKML  	http://code.google.com/p/libkml/
libCurl		http://curl.haxx.se/


EXAMPLE USAGE
---------------
craig2kml -v --url "http://newyork.craigslist.org/search/nfa?query=&srchType=A&minAsk=&maxAsk=2000&bedrooms=&addTwo=purrr&hasPic=1" -o brooklynrental.kml

This will create the KML file "brooklynrental.kml" and populate it with placemarks for all of the listings that:

1) Have a link to a Google Map on the page, as many Craigslist listings do
2) Are geolocatable using the google Geolocation service: http://code.google.com/apis/maps/documentation/geocoding/



TO DO
--------------
- Don't overwrite output file until the end, but check to make sure that it we can create the file at the beginning.
- Better error checking
- Provide sample JavaScript usage code
- Use other contextual information to map non-mappable listings, such as title of the page and other geographic data
- Create option to follow pagination
- There are probably tons of memory leaks.  I haven't done much releasing at all.
- Fix prebuild script so that the generated Makefile works.
- Option to send output to stdout rather than file